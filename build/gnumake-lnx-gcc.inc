ifdef PY_USE_PYMALLOC
PYTHONVERSION=$(PY_MAJOR_VERSION).$(PY_MINOR_VERSION)m
else
PYTHONVERSION=$(PY_MAJOR_VERSION).$(PY_MINOR_VERSION)
endif

DEFS += -DPY_EXPORTS

INCPATH += -I$(PYTHONPREFIX)/include/python$(PYTHONVERSION)

ifdef PY_CONDA_ROOT
LIBPATH += -L$(PY_CONDA_ROOT)/lib
LDFLAGS += -Wl,-R$(PY_CONDA_ROOT)/lib
DEFS += -DPY_INTERPRETER=$(PY_CONDA_ROOT)/bin/python
endif

LIBS += -lpython$(PYTHONVERSION)

ifdef PY_NUMARRAY
DEFS += -DPY_NUMARRAY
endif
ifdef PY_NUMPY
DEFS += -DPY_NUMPY
INCPATH += -I$(PYTHONPREFIX)/lib/python$(PY_MAJOR_VERSION).$(PY_MINOR_VERSION)/site-packages/numpy/core/include
endif
ifdef PY_NUMERIC
DEFS += -DPY_NUMERIC
endif

ifdef PY_USE_GIL
DEFS += -DPY_USE_GIL
endif

ifdef PY_USE_INOFFICIAL
DEFS += -DPY_USE_INOFFICIAL
endif
